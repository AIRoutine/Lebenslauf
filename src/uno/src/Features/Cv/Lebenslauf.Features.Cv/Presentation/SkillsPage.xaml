<Page x:Class="Lebenslauf.Features.Cv.Presentation.SkillsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:utu="using:Uno.Toolkit.UI"
      xmlns:controls="using:Lebenslauf.Core.Styles.Controls"
      Background="#FFFFFF">

    <Page.Resources>
        <!-- B&W Styles -->
        <Style x:Key="SkillsTitleStyle" TargetType="TextBlock" BasedOn="{StaticResource TitleLargeTextBlockStyle}">
            <Setter Property="FontWeight" Value="Black" />
            <Setter Property="Foreground" Value="#000000" />
        </Style>
        <Style x:Key="SkillsSectionStyle" TargetType="TextBlock" BasedOn="{StaticResource TitleMediumTextBlockStyle}">
            <Setter Property="FontWeight" Value="Black" />
            <Setter Property="Foreground" Value="#000000" />
            <Setter Property="CharacterSpacing" Value="100" />
        </Style>
        <Style x:Key="SkillsChipStyle" TargetType="TextBlock" BasedOn="{StaticResource LabelMediumTextBlockStyle}">
            <Setter Property="Foreground" Value="#000000" />
        </Style>
        <Style x:Key="SkillsChipInvertStyle" TargetType="TextBlock" BasedOn="{StaticResource LabelMediumTextBlockStyle}">
            <Setter Property="Foreground" Value="#FFFFFF" />
        </Style>
        <Style x:Key="SkillsItemStyle" TargetType="TextBlock" BasedOn="{StaticResource BodyMediumTextBlockStyle}">
            <Setter Property="Foreground" Value="#333333" />
        </Style>
        <Style x:Key="SkillsBtnStyle" TargetType="Button" BasedOn="{StaticResource IconButtonStyle}" />
        <Style x:Key="SkillsResponsiveStyle" TargetType="utu:ResponsiveView" />
    </Page.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Export Area: Masthead + Content -->
        <Grid x:Name="SkillsExportArea" Background="#FFFFFF">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!-- Editorial Masthead - Bold B&W Header -->
            <Border Background="#000000">
                <Grid Padding="{utu:Responsive Narrow='24,20', Normal='48,28'}">
                    <StackPanel>
                        <TextBlock Text="SKILLS"
                                   Style="{StaticResource DisplayLargeTextBlockStyle}"
                                   FontSize="{utu:Responsive Narrow=32, Normal=42}"
                                   FontWeight="Black"
                                   Foreground="#FFFFFF"
                                   CharacterSpacing="200" />
                        <TextBlock Text="Technische Kompetenzen"
                                   Style="{StaticResource LabelSmallTextBlockStyle}"
                                   FontSize="{utu:Responsive Narrow=11, Normal=12}"
                                   FontWeight="Normal"
                                   Foreground="#CCCCCC"
                                   CharacterSpacing="100"
                                   Margin="0,4,0,0" />
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Content -->
            <utu:ResponsiveView x:Name="SkillsContent" Grid.Row="1" Style="{StaticResource SkillsResponsiveStyle}">
            <utu:ResponsiveView.NarrowTemplate>
                <!-- Mobile: Single Column -->
                <DataTemplate>
                    <ScrollViewer Padding="20,16">
                        <StackPanel Spacing="24" MaxWidth="600" HorizontalAlignment="Center">
                            <!-- Expertise -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="EXPERTISE" Style="{StaticResource SkillsSectionStyle}" />
                                <ItemsRepeater ItemsSource="{Binding ExpertiseSkills}">
                                    <ItemsRepeater.Layout>
                                        <FlowLayout MinRowSpacing="8" MinColumnSpacing="8" />
                                    </ItemsRepeater.Layout>
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="#000000" CornerRadius="4" Padding="14,8">
                                                <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipInvertStyle}" />
                                            </Border>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </StackPanel>

                            <!-- Basic Knowledge -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="GRUNDLAGEN" Style="{StaticResource SkillsSectionStyle}" />
                                <ItemsRepeater ItemsSource="{Binding BasicSkills}">
                                    <ItemsRepeater.Layout>
                                        <FlowLayout MinRowSpacing="8" MinColumnSpacing="8" />
                                    </ItemsRepeater.Layout>
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="#F5F5F5" CornerRadius="4" Padding="14,8">
                                                <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipStyle}" />
                                            </Border>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </StackPanel>

                            <!-- App Base -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="APP-BASIS" Style="{StaticResource SkillsSectionStyle}" />
                                <ItemsRepeater ItemsSource="{Binding AppBaseTechnologies}">
                                    <ItemsRepeater.Layout>
                                        <StackLayout Spacing="6" />
                                    </ItemsRepeater.Layout>
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" Spacing="10">
                                                <Ellipse Width="6" Height="6" Fill="#000000" VerticalAlignment="Center" />
                                                <TextBlock Text="{Binding}" Style="{StaticResource SkillsItemStyle}" />
                                            </StackPanel>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </StackPanel>

                            <!-- DevOps -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="DEVOPS" Style="{StaticResource SkillsSectionStyle}" />
                                <ItemsRepeater ItemsSource="{Binding DevTools}">
                                    <ItemsRepeater.Layout>
                                        <FlowLayout MinRowSpacing="6" MinColumnSpacing="6" />
                                    </ItemsRepeater.Layout>
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="#F5F5F5" CornerRadius="4" Padding="12,6">
                                                <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipStyle}" />
                                            </Border>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </StackPanel>

                            <!-- AI Tools -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="AI TOOLS" Style="{StaticResource SkillsSectionStyle}" />
                                <ItemsRepeater ItemsSource="{Binding AiTools}">
                                    <ItemsRepeater.Layout>
                                        <FlowLayout MinRowSpacing="6" MinColumnSpacing="6" />
                                    </ItemsRepeater.Layout>
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="#E5E5E5" CornerRadius="4" Padding="12,6">
                                                <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipStyle}" />
                                            </Border>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </StackPanel>

                            <!-- Frameworks -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="FRAMEWORKS" Style="{StaticResource SkillsSectionStyle}" />
                                <ItemsRepeater ItemsSource="{Binding Frameworks}">
                                    <ItemsRepeater.Layout>
                                        <FlowLayout MinRowSpacing="6" MinColumnSpacing="6" />
                                    </ItemsRepeater.Layout>
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate>
                                            <Border BorderBrush="#000000" BorderThickness="1" CornerRadius="4" Padding="12,6">
                                                <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipStyle}" />
                                            </Border>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </StackPanel>

                            <!-- App Dev Experience -->
                            <StackPanel Spacing="12">
                                <TextBlock Text="ERFAHRUNG" Style="{StaticResource SkillsSectionStyle}" />
                                <ItemsRepeater ItemsSource="{Binding AppDevExperience}">
                                    <ItemsRepeater.Layout>
                                        <StackLayout Spacing="6" />
                                    </ItemsRepeater.Layout>
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate>
                                            <StackPanel Orientation="Horizontal" Spacing="10">
                                                <FontIcon Glyph="&#xE73E;" FontSize="12" Foreground="#000000" VerticalAlignment="Center" />
                                                <TextBlock Text="{Binding}" Style="{StaticResource SkillsItemStyle}" />
                                            </StackPanel>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>
                </DataTemplate>
            </utu:ResponsiveView.NarrowTemplate>

            <utu:ResponsiveView.NormalTemplate>
                <!-- Desktop: Two Columns -->
                <DataTemplate>
                    <ScrollViewer Padding="32,24">
                        <Grid MaxWidth="900" HorizontalAlignment="Center">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="32" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <!-- Left Column -->
                            <StackPanel Spacing="28">
                                <!-- Expertise -->
                                <StackPanel Spacing="12">
                                    <TextBlock Text="EXPERTISE" Style="{StaticResource SkillsSectionStyle}" />
                                    <ItemsRepeater ItemsSource="{Binding ExpertiseSkills}">
                                        <ItemsRepeater.Layout>
                                            <FlowLayout MinRowSpacing="8" MinColumnSpacing="8" />
                                        </ItemsRepeater.Layout>
                                        <ItemsRepeater.ItemTemplate>
                                            <DataTemplate>
                                                <Border Background="#000000" CornerRadius="4" Padding="14,8">
                                                    <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipInvertStyle}" />
                                                </Border>
                                            </DataTemplate>
                                        </ItemsRepeater.ItemTemplate>
                                    </ItemsRepeater>
                                </StackPanel>

                                <!-- Basic Knowledge -->
                                <StackPanel Spacing="12">
                                    <TextBlock Text="GRUNDLAGEN" Style="{StaticResource SkillsSectionStyle}" />
                                    <ItemsRepeater ItemsSource="{Binding BasicSkills}">
                                        <ItemsRepeater.Layout>
                                            <FlowLayout MinRowSpacing="8" MinColumnSpacing="8" />
                                        </ItemsRepeater.Layout>
                                        <ItemsRepeater.ItemTemplate>
                                            <DataTemplate>
                                                <Border Background="#F5F5F5" CornerRadius="4" Padding="14,8">
                                                    <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipStyle}" />
                                                </Border>
                                            </DataTemplate>
                                        </ItemsRepeater.ItemTemplate>
                                    </ItemsRepeater>
                                </StackPanel>

                                <!-- App Base -->
                                <StackPanel Spacing="12">
                                    <TextBlock Text="APP-BASIS" Style="{StaticResource SkillsSectionStyle}" />
                                    <ItemsRepeater ItemsSource="{Binding AppBaseTechnologies}">
                                        <ItemsRepeater.Layout>
                                            <StackLayout Spacing="6" />
                                        </ItemsRepeater.Layout>
                                        <ItemsRepeater.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Spacing="10">
                                                    <Ellipse Width="6" Height="6" Fill="#000000" VerticalAlignment="Center" />
                                                    <TextBlock Text="{Binding}" Style="{StaticResource SkillsItemStyle}" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </ItemsRepeater.ItemTemplate>
                                    </ItemsRepeater>
                                </StackPanel>
                            </StackPanel>

                            <!-- Right Column -->
                            <StackPanel Grid.Column="2" Spacing="28">
                                <!-- DevOps -->
                                <StackPanel Spacing="12">
                                    <TextBlock Text="DEVOPS" Style="{StaticResource SkillsSectionStyle}" />
                                    <ItemsRepeater ItemsSource="{Binding DevTools}">
                                        <ItemsRepeater.Layout>
                                            <FlowLayout MinRowSpacing="6" MinColumnSpacing="6" />
                                        </ItemsRepeater.Layout>
                                        <ItemsRepeater.ItemTemplate>
                                            <DataTemplate>
                                                <Border Background="#F5F5F5" CornerRadius="4" Padding="12,6">
                                                    <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipStyle}" />
                                                </Border>
                                            </DataTemplate>
                                        </ItemsRepeater.ItemTemplate>
                                    </ItemsRepeater>
                                </StackPanel>

                                <!-- AI Tools -->
                                <StackPanel Spacing="12">
                                    <TextBlock Text="AI TOOLS" Style="{StaticResource SkillsSectionStyle}" />
                                    <ItemsRepeater ItemsSource="{Binding AiTools}">
                                        <ItemsRepeater.Layout>
                                            <FlowLayout MinRowSpacing="6" MinColumnSpacing="6" />
                                        </ItemsRepeater.Layout>
                                        <ItemsRepeater.ItemTemplate>
                                            <DataTemplate>
                                                <Border Background="#E5E5E5" CornerRadius="4" Padding="12,6">
                                                    <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipStyle}" />
                                                </Border>
                                            </DataTemplate>
                                        </ItemsRepeater.ItemTemplate>
                                    </ItemsRepeater>
                                </StackPanel>

                                <!-- Frameworks -->
                                <StackPanel Spacing="12">
                                    <TextBlock Text="FRAMEWORKS" Style="{StaticResource SkillsSectionStyle}" />
                                    <ItemsRepeater ItemsSource="{Binding Frameworks}">
                                        <ItemsRepeater.Layout>
                                            <FlowLayout MinRowSpacing="6" MinColumnSpacing="6" />
                                        </ItemsRepeater.Layout>
                                        <ItemsRepeater.ItemTemplate>
                                            <DataTemplate>
                                                <Border BorderBrush="#000000" BorderThickness="1" CornerRadius="4" Padding="12,6">
                                                    <TextBlock Text="{Binding}" Style="{StaticResource SkillsChipStyle}" />
                                                </Border>
                                            </DataTemplate>
                                        </ItemsRepeater.ItemTemplate>
                                    </ItemsRepeater>
                                </StackPanel>

                                <!-- App Dev Experience -->
                                <StackPanel Spacing="12">
                                    <TextBlock Text="ERFAHRUNG" Style="{StaticResource SkillsSectionStyle}" />
                                    <ItemsRepeater ItemsSource="{Binding AppDevExperience}">
                                        <ItemsRepeater.Layout>
                                            <StackLayout Spacing="6" />
                                        </ItemsRepeater.Layout>
                                        <ItemsRepeater.ItemTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" Spacing="10">
                                                    <FontIcon Glyph="&#xE73E;" FontSize="12" Foreground="#000000" VerticalAlignment="Center" />
                                                    <TextBlock Text="{Binding}" Style="{StaticResource SkillsItemStyle}" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </ItemsRepeater.ItemTemplate>
                                    </ItemsRepeater>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </ScrollViewer>
                </DataTemplate>
            </utu:ResponsiveView.NormalTemplate>
        </utu:ResponsiveView>
        </Grid>

        <!-- Floating PDF Export Button (rendered on top) -->
        <controls:ExportHeaderControl ExportTarget="{x:Bind SkillsExportArea}"
                                       FileName="Skills_Daniel_Hufnagl"
                                       Margin="0,16,48,0"
                                       HorizontalAlignment="Right"
                                       VerticalAlignment="Top" />
    </Grid>
</Page>

<UserControl x:Class="Lebenslauf.Features.Cv.Presentation.Sections.SkillsSection"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:utu="using:Uno.Toolkit.UI">

    <!-- Section Card with Elevation -->
    <Border CornerRadius="16"
            Padding="24"
            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
            Translation="0,0,16"
            Style="{StaticResource CardBorderStyle}">
        <Border.Shadow>
            <ThemeShadow />
        </Border.Shadow>

        <utu:AutoLayout Orientation="Vertical"
                        Style="{StaticResource ContentAutoLayoutStyle}"
                        Spacing="20">

            <!-- Section Header with Icon -->
            <StackPanel Orientation="Horizontal" Spacing="12">
                <Border Width="40" Height="40"
                        CornerRadius="20"
                        Style="{StaticResource CardBorderStyle}">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#9c27b0" Offset="0.0" />
                            <GradientStop Color="#6a1b9a" Offset="1.0" />
                        </LinearGradientBrush>
                    </Border.Background>
                    <FontIcon Glyph="&#xE74C;"
                              FontSize="20"
                              Foreground="White"
                              HorizontalAlignment="Center"
                              VerticalAlignment="Center" />
                </Border>
                <TextBlock Text="Skills"
                           Style="{StaticResource TitleLargeTextBlockStyle}"
                           VerticalAlignment="Center" />
            </StackPanel>

            <!-- Skill Categories Grid -->
            <ItemsRepeater ItemsSource="{Binding}"
                           Style="{StaticResource DefaultItemsRepeaterStyle}">
                <ItemsRepeater.Layout>
                    <UniformGridLayout MinItemWidth="280"
                                       MaximumRowsOrColumns="2"
                                       MinRowSpacing="16"
                                       MinColumnSpacing="16"
                                       ItemsStretch="Fill" />
                </ItemsRepeater.Layout>
                <ItemsRepeater.ItemTemplate>
                    <DataTemplate>
                        <Border CornerRadius="12"
                                Padding="16"
                                Background="{ThemeResource SurfaceBrush}"
                                Style="{StaticResource CardBorderStyle}">
                            <StackPanel Spacing="12">
                                <!-- Category Name with colored bar -->
                                <StackPanel Orientation="Horizontal" Spacing="10">
                                    <Border Width="4" Height="20"
                                            CornerRadius="2"
                                            Style="{StaticResource CardBorderStyle}">
                                        <Border.Background>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                                <GradientStop Color="#9c27b0" Offset="0.0" />
                                                <GradientStop Color="#e040fb" Offset="1.0" />
                                            </LinearGradientBrush>
                                        </Border.Background>
                                    </Border>
                                    <TextBlock Text="{Binding Name}"
                                               Style="{StaticResource TitleSmallTextBlockStyle}"
                                               FontWeight="SemiBold" />
                                </StackPanel>

                                <!-- Skills as wrapped chips -->
                                <ItemsRepeater ItemsSource="{Binding Skills}"
                                               Style="{StaticResource DefaultItemsRepeaterStyle}">
                                    <ItemsRepeater.Layout>
                                        <FlowLayout MinRowSpacing="8"
                                                    MinColumnSpacing="8" />
                                    </ItemsRepeater.Layout>
                                    <ItemsRepeater.ItemTemplate>
                                        <DataTemplate>
                                            <Border CornerRadius="16"
                                                    Padding="12,6"
                                                    Style="{StaticResource CardBorderStyle}">
                                                <Border.Background>
                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                                        <GradientStop Color="#F3E5F5" Offset="0.0" />
                                                        <GradientStop Color="#E1BEE7" Offset="1.0" />
                                                    </LinearGradientBrush>
                                                </Border.Background>
                                                <TextBlock Text="{Binding Name}"
                                                           Style="{StaticResource BodySmallTextBlockStyle}"
                                                           Foreground="#6a1b9a"
                                                           FontWeight="Medium" />
                                            </Border>
                                        </DataTemplate>
                                    </ItemsRepeater.ItemTemplate>
                                </ItemsRepeater>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsRepeater.ItemTemplate>
            </ItemsRepeater>
        </utu:AutoLayout>
    </Border>
</UserControl>
